{"version":3,"sources":["public/firebaseConfig.js","public/user.png","config.js","components/Header.js","components/Main.js","components/Footer.js","pages/main.js","shared/App.js","client/root.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","SERVER_URL","firebaseApp","firebase","initializeApp","Header","props","state","showMenu","userName","userToken","userTokenP","userImage","usericon","bind","closeMenu","signOut","event","preventDefault","stopPropagation","this","requestProfile","setState","document","removeEventListener","addEventListener","dropdownMenu","contains","target","user","undefined","localStorage","getItem","za","axios","get","config","headers","authentication","then","response","data","name","token","tokenP","photoURL","catch","error","alert","a","removeItem","signInWithGoogle","class","setItem","onClick","src","ref","element","completed","height","isLabelVisible","Component","firebaseAppAuth","auth","providers","googleProvider","GoogleAuthProvider","withFirebaseAuth","Main","input","output","loading","handleChange","requestcontents","value","post","timeout","console","log","Spinner","size","color","onChange","readOnly","Footer","App","exact","path","component","Root","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6140b83f.chunk.js","sourcesContent":["const firebaseConfig = {\r\n  apiKey: \"AIzaSyDa7N9IBIGCSsDHHWzF8OjDvy1YZ9LszbQ\",\r\n  authDomain: \"webnovel-2fced.firebaseapp.com\",\r\n  projectId: \"webnovel-2fced\",\r\n  storageBucket: \"webnovel-2fced.appspot.com\",\r\n  messagingSenderId: \"268198427687\",\r\n  appId: \"1:268198427687:web:48678f494b6060cff02202\",\r\n  measurementId: \"G-0MWXK0Q94K\"\r\n};\r\n\r\nexport default firebaseConfig;\r\n","export default __webpack_public_path__ + \"static/media/user.f4aa51de.png\";","//export const SERVER_URL = 'http://localhost:5000/api/v1';\r\nexport const SERVER_URL = 'http://hojoondev.kro.kr:5000/api/v1';","import { Component } from 'react';\r\nimport axios from 'axios';\r\nimport withFirebaseAuth from 'react-with-firebase-auth'\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport firebaseConfig from '../public/firebaseConfig';\r\nimport '../style/Header.css';\r\nimport usericon from '../public/user.png';\r\nimport ProgressBar from \"@ramonak/react-progress-bar\";\r\nimport * as config from '../config';\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      showMenu: false,\r\n      userName: '',\r\n      userToken: 1000,\r\n      userTokenP: 100,\r\n      userImage: usericon\r\n    };\r\n    this.showMenu = this.showMenu.bind(this);\r\n    this.closeMenu = this.closeMenu.bind(this);\r\n    this.signOut = this.signOut.bind(this);\r\n  }\r\n  \r\n  showMenu(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.requestProfile();\r\n\r\n    if (this.state.showMenu) {\r\n      this.setState({ showMenu: false });\r\n      document.removeEventListener('click', this.closeMenu);\r\n    }else{\r\n      this.setState({ showMenu: true });\r\n      document.addEventListener('click', this.closeMenu);\r\n    }\r\n  }\r\n  \r\n  closeMenu(event) {\r\n    event.preventDefault();\r\n\r\n    if (!this.dropdownMenu.contains(event.target)) {\r\n      this.setState({ showMenu: false });\r\n      document.removeEventListener('click', this.closeMenu);\r\n    }\r\n  }\r\n\r\n  requestProfile() {\r\n    let user;\r\n    if (this.props.user === undefined) {\r\n      user = localStorage.getItem('token');\r\n    }else{\r\n      user = this.props.user.za;\r\n    }\r\n    axios.get(`${config.SERVER_URL}/profile`, { headers: {authentication: user} })\r\n    .then((response) => {\r\n      this.setState({ userName: response.data.name});\r\n      this.setState({ userToken: response.data.token});\r\n      this.setState({ userTokenP: response.data.tokenP});\r\n      this.setState({ userImage: response.data.photoURL});\r\n    })\r\n    .catch((error) => {\r\n      alert('새로고침 후 다시 시도해 주세요!');\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.requestProfile();\r\n  }\r\n\r\n  async signOut(){\r\n    await this.props.signOut();\r\n    await localStorage.removeItem('token');\r\n  }\r\n\r\n  render() {\r\n    let { user, signInWithGoogle } = this.props;  \r\n    return (\r\n      <header>\r\n        <span class=\"logo\">WebNovel</span>\r\n        <p class=\"beta\">Beta</p>\r\n        <div class=\"loginProfile\">\r\n          { user ? localStorage.setItem('token', user.za) : null }\r\n          { user ? \r\n            <div class=\"profile\">\r\n              <a onClick={this.showMenu}>\r\n                <img  src={this.state.userImage} class=\"profileicon\"/>\r\n              </a>\r\n            </div>\r\n            : <button class=\"login\" onClick={signInWithGoogle}>Sign in with Google</button>\r\n          }\r\n          { this.state.showMenu ? (\r\n            <div ref={(element) => { this.dropdownMenu = element; }}>\r\n              <div class=\"dropdown\">\r\n                <div class=\"name\">\r\n                  <p>{this.state.userName}</p>\r\n                </div>\r\n                <div class=\"token\">\r\n                  <ProgressBar completed={this.state.userTokenP} height=\"8px\" isLabelVisible={false}/>\r\n                  <span>{this.state.userToken} token</span>\r\n                </div>\r\n                <button onClick={this.signOut} class=\"logout\">logout</button>\r\n              </div>\r\n            </div> ) : (null)\r\n          }\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nconst firebaseAppAuth = firebaseApp.auth();\r\nconst providers = { googleProvider: new firebase.auth.GoogleAuthProvider(), };\r\n\r\nexport default withFirebaseAuth({\r\n  providers,\r\n  firebaseAppAuth,\r\n})(Header);\r\n","import { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Spinner } from \"react-loading-io\";\r\nimport * as config from '../config';\r\nimport '../style/Main.css';\r\n\r\nclass Main extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { \r\n      input: '안녕하세요.',\r\n      output: 'ex)저는 여러분이 아이스크림을 사랑하는 이유에 대해서 물어보고 싶어서 페이스북에 올려놓고, 많은 사람들이 생각을 공유해 주셨습니다. 정말 대단한 반응이었습니다.',\r\n      loading: false\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.requestcontents = this.requestcontents.bind(this);\r\n  }\r\n\r\n  handleChange(event){\r\n    this.setState({input: event.target.value});\r\n  }\r\n\r\n  requestcontents(){\r\n\r\n    if (localStorage.getItem('token') !== undefined) {\r\n    this.setState({loading: true});\r\n    this.setState({output: 'Loading...'});\r\n    \r\n    axios.post(`${config.SERVER_URL}/complation`, \r\n    { input: this.state.input }, \r\n    { headers: {authentication: localStorage.getItem('token')},\r\n    timeout: 10000 })\r\n    .then((response) => {\r\n      console.log(response);\r\n      this.setState({ output: this.state.input+response.data.output});\r\n      this.setState({loading: false});\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      this.setState({loading: false});\r\n      this.setState({ output: '토큰이 부족합니다!'});\r\n    })\r\n    }else{\r\n      this.setState({output: '로그인 후 다시 시도해 주세요!'});\r\n    }\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"main\">\r\n        <p class=\"middleTitle\"> Completion </p>\r\n        {this.state.loading ? \r\n          <div class=\"loading\">\r\n            <Spinner size='8px' color='#3b2479'/>\r\n          </div>\r\n        : null}\r\n\r\n          \r\n\r\n        <div>\r\n          <div class=\"input\">\r\n          <textarea class=\"input_text\" value={this.state.input} onChange={this.handleChange}></textarea>\r\n\r\n\r\n          <button class=\"start\" onClick = {this.requestcontents}>Start!</button>\r\n          </div>\r\n          <div>\r\n            <textarea class=\"output\" value={this.state.output} readOnly></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import { Component } from 'react';\r\nimport '../style/Footer.css';\r\n\r\nclass Footer extends Component {\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n    <footer>\r\n    <p class=\"info\">\r\n      Address: #702 BS B/D seocho-daero 334 ,Seocho-gu, Seoul, Korea<br/>\r\n      ㈜Appplatform 115-87-01388<br/>\r\n      ©Appplatform, Inc All Rights Reserved\r\n    </p>\r\n\r\n    </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport Header from '../components/Header.js';\r\nimport Mainapi from '../components/Main.js';\r\nimport Footer from '../components/Footer.js';\r\n\r\n\r\nconst Main = () => {\r\n  return (\r\n    <div>\r\n      <Header/>\r\n      <Mainapi/>\r\n      <Footer/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;","import React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { Main } from '../pages/index.js';\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Route exact path=\"/\" component={Main}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from '../shared/App.js';\r\n\r\nconst Root = () => (\r\n  <BrowserRouter>\r\n    <App/>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default Root;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\nimport Root from './client/root.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Root />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}